<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Properties ‚Äî Korstrada</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --cream:    #EFF4F9;
      --sand:     #D6E4F0;
      --terracotta: #2E6FA3;
      --terra-light: #5291C0;
      --brown:    #1A4A72;
      --dark:     #0D2B45;
      --muted:    #6A8EAA;
      --white:    #F6FAFD;
      --shadow:   rgba(13,43,69,0.12);
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'DM Sans', sans-serif;
      background: var(--cream);
      color: var(--dark);
      overflow-x: hidden;
    }

    nav {
      position: fixed; top: 0; left: 0; right: 0; z-index: 100;
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 2.5rem; height: 64px;
      background: rgba(239,244,249,0.95); backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(46,111,163,0.12);
    }
    .nav-logo { font-family: 'Cormorant Garamond', serif; font-size: 1.7rem; font-weight: 600; color: var(--brown); letter-spacing: 0.04em; text-decoration: none; }
    .nav-logo span { color: var(--terracotta); font-style: italic; }
    .nav-links { display: flex; gap: 2rem; list-style: none; }
    .nav-links a { text-decoration: none; font-size: 0.88rem; font-weight: 500; color: var(--muted); letter-spacing: 0.03em; transition: color 0.2s; }
    .nav-links a:hover, .nav-links a.active { color: var(--terracotta); }
    .nav-cta { background: var(--terracotta); color: var(--white); border: none; border-radius: 8px; padding: 0.55rem 1.3rem; font-family: 'DM Sans', sans-serif; font-size: 0.88rem; font-weight: 500; cursor: pointer; transition: background 0.2s, transform 0.15s; }
    .nav-cta:hover { background: var(--brown); transform: translateY(-1px); }

    /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
    .hero {
      padding: 100px 2rem 3rem;
      position: relative;
      background:
        radial-gradient(ellipse 70% 50% at 60% 40%, rgba(46,111,163,0.1) 0%, transparent 70%),
        var(--cream);
    }

    .hero-content {
      max-width: 1180px; margin: 0 auto;
      text-align: center;
    }

    .hero-tag {
      display: inline-block;
      background: rgba(46,111,163,0.12);
      color: var(--terracotta);
      border: 1px solid rgba(46,111,163,0.3);
      border-radius: 99px;
      padding: 0.3rem 1rem;
      font-size: 0.78rem; font-weight: 500; letter-spacing: 0.08em;
      text-transform: uppercase;
      margin-bottom: 1rem;
      animation: fadeUp 0.6s ease both;
    }

    .hero h1 {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(2.5rem, 6vw, 4rem);
      font-weight: 500;
      line-height: 1.15;
      color: var(--dark);
      animation: fadeUp 0.7s 0.1s ease both;
    }
    .hero h1 em { color: var(--terracotta); font-style: italic; }

    .hero-sub {
      margin-top: 1rem;
      font-size: 1rem; color: var(--muted);
      max-width: 520px; margin-left: auto; margin-right: auto;
      line-height: 1.6;
      animation: fadeUp 0.7s 0.2s ease both;
    }

    /* Search bar */
    .search-card {
      margin-top: 2rem;
      background: var(--white);
      border-radius: 18px;
      padding: 1.2rem 1.5rem;
      display: flex; align-items: flex-end; gap: 1rem; flex-wrap: wrap;
      box-shadow: 0 8px 40px var(--shadow), 0 1px 0 rgba(255,255,255,0.8) inset;
      width: 100%; max-width: 860px;
      margin-left: auto; margin-right: auto;
      animation: fadeUp 0.7s 0.3s ease both;
    }

    .search-field { display: flex; flex-direction: column; gap: 0.3rem; flex: 1; min-width: 140px; }
    .search-field label { font-size: 0.72rem; font-weight: 500; letter-spacing: 0.07em; text-transform: uppercase; color: var(--muted); }
    .search-field input, .search-field select {
      border: none; background: transparent;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.95rem; color: var(--dark); font-weight: 500;
      outline: none; padding: 0.2rem 0;
      border-bottom: 1.5px solid var(--sand);
      transition: border-color 0.2s;
      cursor: pointer;
      appearance: none;
    }
    .search-field input::placeholder { color: var(--muted); font-weight: 400; }
    .search-field input:focus, .search-field select:focus { border-color: var(--terracotta); }

    .search-divider { width: 1px; height: 48px; background: var(--sand); align-self: flex-end; margin-bottom: 0.2rem; }

    .search-btn {
      background: var(--terracotta); color: var(--white);
      border: none; border-radius: 12px;
      padding: 0.9rem 1.8rem;
      font-family: 'DM Sans', sans-serif; font-size: 0.95rem; font-weight: 500;
      cursor: pointer; display: flex; align-items: center; gap: 0.5rem;
      transition: background 0.2s, transform 0.15s, box-shadow 0.2s;
      box-shadow: 0 4px 16px rgba(46,111,163,0.35);
      white-space: nowrap;
    }
    .search-btn:hover { background: var(--brown); transform: translateY(-2px); box-shadow: 0 6px 20px rgba(46,111,163,0.45); }

    /* Quick Stats */
    .quick-stats {
      margin-top: 2rem;
      display: flex; gap: 2.5rem; justify-content: center; flex-wrap: wrap;
      animation: fadeUp 0.7s 0.4s ease both;
    }
    .quick-stat { text-align: center; }
    .quick-stat-num {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.6rem; font-weight: 600; color: var(--brown);
    }
    .quick-stat-label { font-size: 0.75rem; color: var(--muted); margin-top: 0.2rem; letter-spacing: 0.04em; }

    /* ‚îÄ‚îÄ SECTION COMMON ‚îÄ‚îÄ */
    section { padding: 4rem 2rem; }
    .container { max-width: 1180px; margin: 0 auto; }

    .section-header { margin-bottom: 2.5rem; }
    .section-eyebrow {
      display: inline-block; font-size: 0.75rem; font-weight: 500;
      letter-spacing: 0.1em; text-transform: uppercase;
      color: var(--terracotta); margin-bottom: 0.6rem;
    }
    .section-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(1.8rem, 4vw, 2.5rem); font-weight: 500;
      color: var(--dark); line-height: 1.2;
    }
    .section-title em { color: var(--terracotta); font-style: italic; }

    /* ‚îÄ‚îÄ FILTERS & CONTROLS ‚îÄ‚îÄ */
    #properties { background: var(--white); }

    .controls-wrap {
      display: flex; gap: 2rem; align-items: flex-start;
      margin-bottom: 2.5rem;
    }

    .filters-section { flex: 1; }

    .filters-bar {
      display: flex; gap: 0.75rem; flex-wrap: wrap;
      margin-bottom: 1.5rem;
    }

    .filter-btn {
      background: var(--cream); border: 1.5px solid var(--sand);
      border-radius: 99px; padding: 0.5rem 1.2rem;
      font-family: 'DM Sans', sans-serif; font-size: 0.85rem;
      color: var(--muted); cursor: pointer;
      transition: all 0.2s; font-weight: 400;
    }
    .filter-btn:hover { border-color: var(--terracotta); color: var(--terracotta); }
    .filter-btn.active {
      background: var(--terracotta); border-color: var(--terracotta);
      color: var(--white); font-weight: 500;
    }

    .range-controls {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem;
    }

    .range-group { display: flex; flex-direction: column; gap: 0.4rem; }
    .range-group label { font-size: 0.75rem; font-weight: 500; letter-spacing: 0.06em; text-transform: uppercase; color: var(--muted); }
    .range-group input[type=range] {
      -webkit-appearance: none; appearance: none;
      width: 100%; height: 4px;
      background: linear-gradient(to right, var(--terracotta) 0%, var(--terracotta) var(--val, 60%), var(--sand) var(--val, 60%));
      border-radius: 99px; outline: none; cursor: pointer;
    }
    .range-group input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px; height: 18px;
      border-radius: 50%; background: var(--white);
      border: 2.5px solid var(--terracotta);
      box-shadow: 0 2px 6px var(--shadow);
    }
    .range-val { font-size: 0.85rem; font-weight: 500; color: var(--brown); margin-top: 0.2rem; }

    .results-bar {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;
    }
    .results-count { font-size: 0.9rem; color: var(--muted); }
    .results-count strong { color: var(--dark); font-weight: 600; }

    .sort-group {
      display: flex; align-items: center; gap: 0.8rem;
    }
    .sort-group label { font-size: 0.85rem; color: var(--muted); }
    .sort-group select {
      background: var(--cream); border: 1.5px solid var(--sand);
      border-radius: 8px; padding: 0.5rem 2rem 0.5rem 1rem;
      font-family: 'DM Sans', sans-serif; font-size: 0.85rem;
      color: var(--dark); cursor: pointer; outline: none;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%236A8EAA' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 0.8rem center;
      transition: border-color 0.2s;
    }
    .sort-group select:focus { border-color: var(--terracotta); }

    /* ‚îÄ‚îÄ PROPERTY CARDS GRID ‚îÄ‚îÄ */
    .properties-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 2rem;
    }

    .prop-card {
      background: var(--cream);
      border-radius: 18px;
      overflow: hidden;
      box-shadow: 0 4px 24px var(--shadow);
      transition: transform 0.25s, box-shadow 0.25s;
      cursor: pointer;
    }
    .prop-card:hover { transform: translateY(-6px); box-shadow: 0 12px 40px rgba(46,26,14,0.18); }
    .prop-card:hover .card-img-inner { transform: scale(1.05); }

    .card-img-wrap { height: 220px; overflow: hidden; position: relative; }
    .card-img-inner {
      width: 100%; height: 100%;
      transition: transform 0.5s ease;
      background-size: cover; background-position: center;
    }

    .card-badge {
      position: absolute; top: 12px; left: 12px;
      background: rgba(253,250,246,0.92);
      backdrop-filter: blur(4px);
      border-radius: 99px; padding: 0.25rem 0.75rem;
      font-size: 0.72rem; font-weight: 500; color: var(--brown);
      letter-spacing: 0.04em;
    }
    .card-fav {
      position: absolute; top: 12px; right: 12px;
      width: 34px; height: 34px; border-radius: 50%;
      background: rgba(253,250,246,0.9);
      border: none; cursor: pointer; display: flex; align-items: center; justify-content: center;
      font-size: 1rem;
      transition: transform 0.2s, background 0.2s;
    }
    .card-fav:hover { transform: scale(1.15); background: var(--white); }
    .card-fav.active { color: var(--terracotta); }

    .card-body { padding: 1.2rem 1.4rem 1.4rem; }

    .card-rating {
      display: flex; align-items: center; gap: 0.3rem;
      font-size: 0.8rem; color: var(--muted); margin-bottom: 0.4rem;
    }
    .card-rating .stars { color: #5291C0; letter-spacing: 0.02em; }

    .card-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.25rem; font-weight: 600; color: var(--dark);
      margin-bottom: 0.25rem; line-height: 1.3;
    }
    .card-location {
      font-size: 0.82rem; color: var(--muted); margin-bottom: 1rem;
      display: flex; align-items: center; gap: 0.3rem;
    }

    .card-amenities {
      display: flex; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 1rem;
    }
    .amenity-chip {
      background: var(--sand); border-radius: 6px;
      padding: 0.2rem 0.6rem; font-size: 0.72rem; color: var(--brown);
    }

    .card-footer { display: flex; align-items: center; justify-content: space-between; }
    .card-price .amount {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.4rem; font-weight: 600; color: var(--terracotta);
    }
    .card-price .per { font-size: 0.75rem; color: var(--muted); }
    .book-btn {
      background: var(--dark); color: var(--white);
      border: none; border-radius: 10px;
      padding: 0.6rem 1.2rem;
      font-family: 'DM Sans', sans-serif; font-size: 0.85rem; font-weight: 500;
      cursor: pointer; transition: background 0.2s, transform 0.15s;
    }
    .book-btn:hover { background: var(--terracotta); transform: translateY(-1px); }

    /* ‚îÄ‚îÄ CTA BANNER ‚îÄ‚îÄ */
    .cta-banner {
      background: linear-gradient(135deg, var(--brown) 0%, var(--dark) 100%);
      border-radius: 24px;
      padding: 3.5rem;
      text-align: center;
      margin-top: 4rem;
      position: relative; overflow: hidden;
    }
    .cta-banner::before {
      content: '';
      position: absolute; top: -60px; right: -60px;
      width: 300px; height: 300px; border-radius: 50%;
      background: rgba(46,111,163,0.2);
    }
    .cta-banner h3 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 2rem; font-weight: 500; color: var(--white);
      margin-bottom: 0.8rem; position: relative; z-index: 1;
    }
    .cta-banner p {
      color: rgba(255,255,255,0.7);
      font-size: 0.95rem; max-width: 480px;
      margin: 0 auto 1.5rem; position: relative; z-index: 1;
    }
    .cta-btn {
      background: var(--terracotta); color: var(--white);
      border: none; border-radius: 12px;
      padding: 1rem 2.5rem; font-family: 'DM Sans', sans-serif;
      font-size: 1rem; font-weight: 500; cursor: pointer;
      transition: background 0.2s, transform 0.15s;
      position: relative; z-index: 1;
      box-shadow: 0 4px 20px rgba(46,111,163,0.4);
    }
    .cta-btn:hover { background: var(--terra-light); transform: translateY(-2px); }

    /* ‚îÄ‚îÄ MODAL OVERLAY ‚îÄ‚îÄ */
    .modal-overlay {
      position: fixed; inset: 0; z-index: 200;
      background: rgba(46,26,14,0.6);
      backdrop-filter: blur(4px);
      display: none; align-items: center; justify-content: center;
      padding: 1rem;
      animation: fadeIn 0.2s ease;
    }
    .modal-overlay.open { display: flex; }

    .modal {
      background: var(--white);
      border-radius: 24px;
      width: 100%; max-width: 560px;
      padding: 2.5rem;
      box-shadow: 0 24px 80px rgba(46,26,14,0.3);
      position: relative;
      animation: slideUp 0.3s ease both;
      max-height: 90vh; overflow-y: auto;
    }

    .modal-close {
      position: absolute; top: 1.2rem; right: 1.2rem;
      width: 36px; height: 36px; border-radius: 50%;
      background: var(--sand); border: none; cursor: pointer;
      font-size: 1rem; color: var(--muted);
      display: flex; align-items: center; justify-content: center;
      transition: background 0.2s, color 0.2s;
    }
    .modal-close:hover { background: var(--terracotta); color: var(--white); }

    .modal-prop-info {
      display: flex; align-items: center; gap: 1rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid var(--sand);
      margin-bottom: 1.5rem;
    }
    .modal-prop-img {
      width: 70px; height: 70px; border-radius: 12px;
      background-size: cover; background-position: center;
      flex-shrink: 0;
    }
    .modal-prop-name {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.25rem; font-weight: 600; color: var(--dark);
    }
    .modal-prop-loc { font-size: 0.82rem; color: var(--muted); margin-top: 0.2rem; }
    .modal-prop-price .amount {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.2rem; font-weight: 600; color: var(--terracotta);
    }
    .modal-prop-price .per { font-size: 0.75rem; color: var(--muted); }

    .modal h3 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.5rem; font-weight: 600; color: var(--dark);
      margin-bottom: 1.5rem;
    }

    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem; }
    .form-group { display: flex; flex-direction: column; gap: 0.4rem; margin-bottom: 1rem; }
    .form-group.full { grid-column: 1 / -1; }
    .form-group label { font-size: 0.75rem; font-weight: 500; letter-spacing: 0.06em; text-transform: uppercase; color: var(--muted); }
    .form-group input, .form-group select {
      background: var(--cream); border: 1.5px solid var(--sand);
      border-radius: 10px; padding: 0.75rem 1rem;
      font-family: 'DM Sans', sans-serif; font-size: 0.95rem; color: var(--dark);
      outline: none; transition: border-color 0.2s;
      appearance: none;
    }
    .form-group input:focus, .form-group select:focus { border-color: var(--terracotta); }

    .price-summary {
      background: var(--cream); border-radius: 12px;
      padding: 1.2rem 1.4rem; margin: 1.2rem 0;
    }
    .price-row {
      display: flex; justify-content: space-between;
      font-size: 0.9rem; color: var(--muted); margin-bottom: 0.5rem;
    }
    .price-row.total {
      border-top: 1px solid var(--sand); padding-top: 0.5rem; margin-top: 0.5rem;
      font-weight: 500; color: var(--dark); font-size: 0.95rem;
    }
    .price-row.total span:last-child {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.15rem; font-weight: 600; color: var(--terracotta);
    }

    .confirm-btn {
      width: 100%; background: var(--terracotta); color: var(--white);
      border: none; border-radius: 12px; padding: 1rem;
      font-family: 'DM Sans', sans-serif; font-size: 1rem; font-weight: 500;
      cursor: pointer; transition: background 0.2s, transform 0.15s;
      box-shadow: 0 4px 20px rgba(46,111,163,0.35);
      margin-top: 0.5rem;
    }
    .confirm-btn:hover { background: var(--brown); transform: translateY(-1px); }

    /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
    footer {
      background: var(--dark); color: rgba(255,255,255,0.5);
      padding: 3rem 2rem;
      text-align: center;
    }
    footer .footer-logo {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.5rem; font-weight: 500; color: var(--white); margin-bottom: 0.5rem;
    }
    footer .footer-logo span { color: var(--terra-light); font-style: italic; }
    footer p { font-size: 0.82rem; }

    /* ‚îÄ‚îÄ ANIMATIONS ‚îÄ‚îÄ */
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(28px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeIn {
      from { opacity: 0; } to { opacity: 1; }
    }
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(40px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .reveal {
      opacity: 0; transform: translateY(28px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .reveal.visible { opacity: 1; transform: none; }

    /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
    @media (max-width: 768px) {
      nav { padding: 0 1.2rem; }
      .nav-links { display: none; }
      .search-card { flex-direction: column; }
      .search-divider { display: none; }
      .controls-wrap { flex-direction: column; }
      .range-controls { grid-template-columns: 1fr; }
      .form-row { grid-template-columns: 1fr; }
      .modal { padding: 1.8rem; }
      .cta-banner { padding: 2.5rem 1.5rem; }
    }

    @media (max-width: 640px) {
      .nav-cta { display: none; }
      .quick-stats { gap: 1.5rem; }
    }
  </style>
</head>
<body>

<!-- ‚îÄ‚îÄ NAV ‚îÄ‚îÄ -->
<nav>
  <a class="nav-logo" href="index.html">Korstr<span>ada</span></a>
  <ul class="nav-links">

    <li><a href="properties.html" class="active">Properties</a></li>
    <li><a href="destinations.html">Destinations</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="contact.html">Contact</a></li>
  </ul>
  <button class="nav-cta" onclick="scrollToProperties()">Browse All</button>
</nav>

<!-- ‚îÄ‚îÄ HERO ‚îÄ‚îÄ -->
<section class="hero">
  <div class="hero-content">
    <h1>Explore Our <em>Curated</em> Collection</h1>
    <p class="hero-sub">From seaside escapes to mountain retreats ‚Äî find your perfect home away from home.</p>

    <div class="search-card">
      <div class="search-field">
        <label>Where</label>
        <input type="text" placeholder="Destination or property" id="search-where" />
      </div>
      <div class="search-divider"></div>
      <div class="search-field">
        <label>Check In</label>
        <input type="date" id="search-in" />
      </div>
      <div class="search-divider"></div>
      <div class="search-field">
        <label>Check Out</label>
        <input type="date" id="search-out" />
      </div>
      <div class="search-divider"></div>
      <div class="search-field">
        <label>Guests</label>
        <select id="search-guests">
          <option>1 Guest</option>
          <option>2 Guests</option>
          <option>3‚Äì4 Guests</option>
          <option>5+ Guests</option>
        </select>
      </div>
      <button class="search-btn" onclick="runSearch()">
        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
        Search
      </button>
    </div>

    <div class="quick-stats">
      <div class="quick-stat"><div class="quick-stat-num">1,200+</div><div class="quick-stat-label">Properties</div></div>
      <div class="quick-stat"><div class="quick-stat-num">48</div><div class="quick-stat-label">Countries</div></div>
      <div class="quick-stat"><div class="quick-stat-num">4.9‚òÖ</div><div class="quick-stat-label">Avg Rating</div></div>
    </div>
  </div>
</section>

<!-- ‚îÄ‚îÄ PROPERTIES ‚îÄ‚îÄ -->
<section id="properties">
  <div class="container">
    <div class="section-header reveal">
      <div class="section-eyebrow">All Properties</div>
      <h2 class="section-title">Find Your <em>Perfect Stay</em></h2>
    </div>

    <!-- Filter Buttons -->
    <div class="filters-section reveal">
      <div class="filters-bar">
        <button class="filter-btn active" data-filter="all">All Properties</button>
        <button class="filter-btn" data-filter="cottage">Cottage</button>
        <button class="filter-btn" data-filter="beach">Beach House</button>
        <button class="filter-btn" data-filter="mountain">Mountain Cabin</button>
        <button class="filter-btn" data-filter="countryside">Countryside</button>
        <button class="filter-btn" data-filter="lake">Lakeside</button>
      </div>

      <!-- Range Controls -->
      <div class="range-controls">
        <div class="range-group">
          <label>Max Price / Night</label>
          <input type="range" min="50" max="800" value="800" id="price-range"
            oninput="updatePriceRange(this)" style="--val:100%" />
          <div class="range-val" id="price-val">Up to $800 / night</div>
        </div>
        <div class="range-group">
          <label>Min Bedrooms</label>
          <input type="range" min="1" max="6" value="1" id="beds-range"
            oninput="updateBedsRange(this)" style="--val:0%" />
          <div class="range-val" id="beds-val">1+ bedrooms</div>
        </div>
      </div>
    </div>

    <!-- Results Bar -->
    <div class="results-bar reveal">
      <div class="results-count">Showing <strong id="showing-count">0</strong> of <strong id="total-count">0</strong> properties</div>
      <div class="sort-group">
        <label>Sort by:</label>
        <select id="sort-select" onchange="updateSort()">
          <option value="featured">Featured</option>
          <option value="price-low">Price: Low to High</option>
          <option value="price-high">Price: High to Low</option>
          <option value="rating">Highest Rated</option>
        </select>
      </div>
    </div>

    <!-- Cards Grid -->
    <div class="properties-grid" id="props-grid">
      <!-- Injected by JS -->
    </div>

    <!-- CTA Banner -->
    <div class="cta-banner reveal">
      <h3>Need Help Finding the Perfect Place?</h3>
      <p>Our concierge team is here to help you discover your dream getaway ‚Äî tailored to your preferences.</p>
      <button class="cta-btn" onclick="alert('Concierge service coming soon! Call us at +1 (555) 123-4567')">Contact Concierge</button>
    </div>
  </div>
</section>

<!-- ‚îÄ‚îÄ BOOKING MODAL ‚îÄ‚îÄ -->
<div class="modal-overlay" id="modal-overlay">
  <div class="modal">
    <button class="modal-close" onclick="closeModal()">‚úï</button>

    <div class="modal-prop-info" id="modal-prop-info">
      <div class="modal-prop-img" id="modal-img"></div>
      <div>
        <div class="modal-prop-name" id="modal-name"></div>
        <div class="modal-prop-loc" id="modal-loc"></div>
        <div class="modal-prop-price" id="modal-price"></div>
      </div>
    </div>

    <h3>Book Your Stay</h3>

    <div class="form-row">
      <div class="form-group">
        <label>First Name</label>
        <input type="text" placeholder="Jane" id="f-first" />
      </div>
      <div class="form-group">
        <label>Last Name</label>
        <input type="text" placeholder="Doe" id="f-last" />
      </div>
    </div>
    <div class="form-group">
      <label>Email Address</label>
      <input type="email" placeholder="jane@example.com" id="f-email" />
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>Check In</label>
        <input type="date" id="f-in" />
      </div>
      <div class="form-group">
        <label>Check Out</label>
        <input type="date" id="f-out" />
      </div>
    </div>
    <div class="form-group">
      <label>Number of Guests</label>
      <select id="f-guests">
        <option>1 Guest</option>
        <option selected>2 Guests</option>
        <option>3 Guests</option>
        <option>4 Guests</option>
        <option>5+ Guests</option>
      </select>
    </div>

    <div class="price-summary" id="price-summary">
      <div class="price-row"><span id="nights-label">3 nights √ó price</span><span id="subtotal-val">‚Äî</span></div>
      <div class="price-row"><span>Cleaning fee</span><span id="clean-val">‚Äî</span></div>
      <div class="price-row"><span>Service fee</span><span id="service-val">‚Äî</span></div>
      <div class="price-row total"><span>Total</span><span id="total-val">‚Äî</span></div>
    </div>

    <button class="confirm-btn" onclick="confirmBooking()">Confirm Booking ‚Üí</button>
  </div>
</div>

<!-- ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ -->
<footer>
  <div class="footer-logo">Korstr<span>ada</span></div>
  <p style="margin-top:.3rem">¬© 2025 Korstrada. All rights reserved.</p>
  <p style="margin-top:.5rem; font-size:.75rem;">Crafted with warmth ‚ô•</p>
</footer>

<script>
  /* ‚îÄ‚îÄ‚îÄ DATA ‚îÄ‚îÄ‚îÄ */
  const properties = [
    {
      id: 1, type: 'cottage',
      name: 'The Willowmere Cottage',
      location: 'Lake District, England',
      price: 180,
      beds: 2, baths: 1, guests: 4,
      rating: 4.95, reviews: 134,
      amenities: ['WiFi', 'Fireplace', 'Garden', 'Parking'],
      badge: 'Most Loved',
      img: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=600&q=80'
    },
    {
      id: 2, type: 'beach',
      name: 'Casa Del Mar',
      location: 'Comporta, Portugal',
      price: 340,
      beds: 3, baths: 2, guests: 6,
      rating: 4.88, reviews: 87,
      amenities: ['Sea View', 'Pool', 'BBQ', 'WiFi'],
      badge: 'Beach Front',
      img: 'https://images.unsplash.com/photo-1499793983690-e29da59ef1c2?w=600&q=80'
    },
    {
      id: 3, type: 'mountain',
      name: 'Pinewood Chalet',
      location: 'Chamonix, France',
      price: 420,
      beds: 4, baths: 3, guests: 8,
      rating: 4.97, reviews: 212,
      amenities: ['Hot Tub', 'Ski-In', 'Fireplace', 'Sauna'],
      badge: 'Top Pick',
      img: 'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=600&q=80'
    },
    {
      id: 4, type: 'countryside',
      name: 'Lavender Farmhouse',
      location: 'Provence, France',
      price: 195,
      beds: 3, baths: 2, guests: 5,
      rating: 4.91, reviews: 98,
      amenities: ['Garden', 'Terrace', 'BBQ', 'Bikes'],
      badge: 'New',
      img: 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=600&q=80'
    },
    {
      id: 5, type: 'lake',
      name: 'Birchwood Lodge',
      location: 'Lapland, Finland',
      price: 290,
      beds: 2, baths: 1, guests: 4,
      rating: 4.93, reviews: 61,
      amenities: ['Lake View', 'Sauna', 'Rowboat', 'Fireplace'],
      badge: 'Exclusive',
      img: 'https://images.unsplash.com/photo-1501854140801-50d01698950b?w=600&q=80'
    },
    {
      id: 6, type: 'beach',
      name: 'The Tidal Retreat',
      location: 'Amalfi Coast, Italy',
      price: 510,
      beds: 3, baths: 2, guests: 6,
      rating: 4.98, reviews: 175,
      amenities: ['Infinity Pool', 'Sea View', 'Terrace', 'WiFi'],
      badge: 'Luxury',
      img: 'https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=600&q=80'
    },
    {
      id: 7, type: 'cottage',
      name: 'Rose Cottage',
      location: 'Cotswolds, England',
      price: 165,
      beds: 2, baths: 1, guests: 3,
      rating: 4.89, reviews: 76,
      amenities: ['WiFi', 'Garden', 'Parking', 'Pet-Friendly'],
      badge: 'Cozy',
      img: 'https://images.unsplash.com/photo-1518780664697-55e3ad937233?w=600&q=80'
    },
    {
      id: 8, type: 'mountain',
      name: 'Alpine View Cabin',
      location: 'Swiss Alps, Switzerland',
      price: 380,
      beds: 3, baths: 2, guests: 6,
      rating: 4.94, reviews: 143,
      amenities: ['Mountain View', 'Fireplace', 'Balcony', 'Sauna'],
      badge: 'Trending',
      img: 'https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?w=600&q=80'
    },
    {
      id: 9, type: 'beach',
      name: 'Sunset Villa',
      location: 'Santorini, Greece',
      price: 595,
      beds: 4, baths: 3, guests: 8,
      rating: 4.99, reviews: 201,
      amenities: ['Ocean View', 'Pool', 'Hot Tub', 'WiFi'],
      badge: 'Iconic',
      img: 'https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=600&q=80'
    },
    {
      id: 10, type: 'countryside',
      name: 'Meadow House',
      location: 'Tuscany, Italy',
      price: 225,
      beds: 3, baths: 2, guests: 6,
      rating: 4.92, reviews: 118,
      amenities: ['Garden', 'Pool', 'BBQ', 'Vineyard'],
      badge: 'Hidden Gem',
      img: 'https://images.unsplash.com/photo-1523217582562-09d0def993a6?w=600&q=80'
    },
    {
      id: 11, type: 'lake',
      name: 'Clearwater Cabin',
      location: 'Lake Tahoe, USA',
      price: 310,
      beds: 3, baths: 2, guests: 6,
      rating: 4.90, reviews: 92,
      amenities: ['Lake Access', 'Kayaks', 'Fireplace', 'Deck'],
      badge: 'Adventure',
      img: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=600&q=80'
    },
    {
      id: 12, type: 'mountain',
      name: 'Forest Retreat',
      location: 'Aspen, USA',
      price: 450,
      beds: 4, baths: 3, guests: 8,
      rating: 4.96, reviews: 167,
      amenities: ['Ski Access', 'Hot Tub', 'Sauna', 'Game Room'],
      badge: 'Luxury',
      img: 'https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?w=600&q=80'
    }
  ];

  let activeFilter = 'all';
  let maxPrice = 800;
  let minBeds = 1;
  let sortBy = 'featured';
  let favorites = new Set();
  let currentProp = null;

  /* ‚îÄ‚îÄ‚îÄ SORTING ‚îÄ‚îÄ‚îÄ */
  function getSortedProperties(props) {
    const sorted = [...props];
    switch(sortBy) {
      case 'price-low':
        return sorted.sort((a, b) => a.price - b.price);
      case 'price-high':
        return sorted.sort((a, b) => b.price - a.price);
      case 'rating':
        return sorted.sort((a, b) => b.rating - a.rating);
      default:
        return sorted;
    }
  }

  function updateSort() {
    sortBy = document.getElementById('sort-select').value;
    renderCards();
  }

  /* ‚îÄ‚îÄ‚îÄ RENDER CARDS ‚îÄ‚îÄ‚îÄ */
  function renderCards() {
    const grid = document.getElementById('props-grid');
    let filtered = properties.filter(p => {
      if (activeFilter !== 'all' && p.type !== activeFilter) return false;
      if (p.price > maxPrice) return false;
      if (p.beds < minBeds) return false;
      return true;
    });

    filtered = getSortedProperties(filtered);

    document.getElementById('total-count').textContent = properties.length;
    document.getElementById('showing-count').textContent = filtered.length;

    if (!filtered.length) {
      grid.innerHTML = `<div style="grid-column:1/-1;text-align:center;padding:4rem;color:var(--muted);font-size:1.1rem;">No properties match your filters. Try adjusting the criteria.</div>`;
      return;
    }

    grid.innerHTML = filtered.map(p => `
      <div class="prop-card reveal" data-id="${p.id}">
        <div class="card-img-wrap">
          <div class="card-img-inner" style="background-image:url('${p.img}')"></div>
          <div class="card-badge">${p.badge}</div>
          <button class="card-fav ${favorites.has(p.id) ? 'active' : ''}" onclick="toggleFav(event,${p.id})">
            ${favorites.has(p.id) ? '‚ù§Ô∏è' : 'ü§ç'}
          </button>
        </div>
        <div class="card-body">
          <div class="card-rating">
            <span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
            <span>${p.rating} (${p.reviews} reviews)</span>
          </div>
          <div class="card-title">${p.name}</div>
          <div class="card-location">
            <svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
            ${p.location} ¬∑ ${p.beds} bed ¬∑ ${p.baths} bath ¬∑ ${p.guests} guests
          </div>
          <div class="card-amenities">
            ${p.amenities.map(a => `<span class="amenity-chip">${a}</span>`).join('')}
          </div>
          <div class="card-footer">
            <div class="card-price">
              <span class="amount">$${p.price}</span>
              <span class="per"> / night</span>
            </div>
            <button class="book-btn" onclick="openModal(properties.find(x=>x.id===${p.id}))">Book Now</button>
          </div>
        </div>
      </div>
    `).join('');

    // re-trigger reveal
    observeReveal();
  }

  /* ‚îÄ‚îÄ‚îÄ FILTERS ‚îÄ‚îÄ‚îÄ */
  document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      activeFilter = btn.dataset.filter;
      renderCards();
    });
  });

  function updatePriceRange(el) {
    maxPrice = parseInt(el.value);
    const pct = ((maxPrice - 50) / (800 - 50)) * 100;
    el.style.setProperty('--val', pct + '%');
    document.getElementById('price-val').textContent = `Up to $${maxPrice} / night`;
    renderCards();
  }

  function updateBedsRange(el) {
    minBeds = parseInt(el.value);
    const pct = ((minBeds - 1) / (6 - 1)) * 100;
    el.style.setProperty('--val', pct + '%');
    document.getElementById('beds-val').textContent = `${minBeds}+ bedroom${minBeds > 1 ? 's' : ''}`;
    renderCards();
  }

  /* ‚îÄ‚îÄ‚îÄ SEARCH ‚îÄ‚îÄ‚îÄ */
  function runSearch() {
    const where = document.getElementById('search-where').value.trim().toLowerCase();
    scrollToProperties();
    if (where) {
      const matched = properties.filter(p =>
        p.location.toLowerCase().includes(where) ||
        p.name.toLowerCase().includes(where) ||
        p.type.toLowerCase().includes(where)
      );
      const grid = document.getElementById('props-grid');
      if (!matched.length) {
        grid.innerHTML = `<div style="grid-column:1/-1;text-align:center;padding:4rem;color:var(--muted);">
          No results for "<strong>${where}</strong>". Try another destination!
        </div>`;
        document.getElementById('showing-count').textContent = '0';
      } else {
        // temporarily swap and render
        const orig = [...properties];
        properties.length = 0;
        matched.forEach(p => properties.push(p));
        renderCards();
        properties.length = 0;
        orig.forEach(p => properties.push(p));
      }
    }
  }

  function scrollToProperties() {
    document.getElementById('properties').scrollIntoView({ behavior: 'smooth' });
  }

  /* ‚îÄ‚îÄ‚îÄ FAVORITES ‚îÄ‚îÄ‚îÄ */
  function toggleFav(e, id) {
    e.stopPropagation();
    if (favorites.has(id)) favorites.delete(id);
    else favorites.add(id);
    renderCards();
  }

  /* ‚îÄ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ‚îÄ */
  function openModal(prop) {
    if (!prop) return;
    currentProp = prop;
    document.getElementById('modal-overlay').classList.add('open');
    document.getElementById('modal-img').style.backgroundImage = `url('${prop.img}')`;
    document.getElementById('modal-name').textContent = prop.name;
    document.getElementById('modal-loc').textContent = prop.location;
    document.getElementById('modal-price').innerHTML = `<span class="amount">$${prop.price}</span><span class="per"> / night</span>`;

    // set default dates
    const today = new Date();
    const plus3 = new Date(today); plus3.setDate(today.getDate() + 3);
    const plus6 = new Date(today); plus6.setDate(today.getDate() + 6);
    const fmt = d => d.toISOString().split('T')[0];
    document.getElementById('f-in').value = fmt(plus3);
    document.getElementById('f-out').value = fmt(plus6);
    calcTotal();

    document.getElementById('f-in').addEventListener('change', calcTotal);
    document.getElementById('f-out').addEventListener('change', calcTotal);
  }

  function closeModal() {
    document.getElementById('modal-overlay').classList.remove('open');
  }

  document.getElementById('modal-overlay').addEventListener('click', e => {
    if (e.target === e.currentTarget) closeModal();
  });

  function calcTotal() {
    if (!currentProp) return;
    const inVal = document.getElementById('f-in').value;
    const outVal = document.getElementById('f-out').value;
    if (!inVal || !outVal) return;
    const nights = Math.max(1, Math.round((new Date(outVal) - new Date(inVal)) / 86400000));
    const subtotal = currentProp.price * nights;
    const cleaning = Math.round(currentProp.price * 0.18);
    const service = Math.round(subtotal * 0.12);
    const total = subtotal + cleaning + service;

    document.getElementById('nights-label').textContent = `${nights} night${nights>1?'s':''} √ó $${currentProp.price}`;
    document.getElementById('subtotal-val').textContent = `$${subtotal}`;
    document.getElementById('clean-val').textContent = `$${cleaning}`;
    document.getElementById('service-val').textContent = `$${service}`;
    document.getElementById('total-val').textContent = `$${total}`;
  }

  function confirmBooking() {
    const first = document.getElementById('f-first').value;
    const email = document.getElementById('f-email').value;
    if (!first || !email) { alert('Please fill in your name and email to proceed.'); return; }
    closeModal();
    setTimeout(() => {
      alert(`üéâ Booking confirmed for ${currentProp.name}!\nA confirmation will be sent to ${email}.`);
    }, 200);
  }

  /* ‚îÄ‚îÄ‚îÄ REVEAL ON SCROLL ‚îÄ‚îÄ‚îÄ */
  function observeReveal() {
    const els = document.querySelectorAll('.reveal:not(.visible)');
    const obs = new IntersectionObserver((entries) => {
      entries.forEach((e, i) => {
        if (e.isIntersecting) {
          setTimeout(() => e.target.classList.add('visible'), i * 80);
          obs.unobserve(e.target);
        }
      });
    }, { threshold: 0.12 });
    els.forEach(el => obs.observe(el));
  }

  /* ‚îÄ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ */
  renderCards();
  observeReveal();
</script>

</body>
</html>